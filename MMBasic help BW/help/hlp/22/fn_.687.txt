ALL VERSIONS
[>688] KEYDOWN(n)
The decimal values for the function and arrow keys are listed in Appendix F. 
This function will report multiple simultaneous key presses and the parameter 'n' is the number of the keypress to report. 

KEYDOWN(0) will return the number of keys being pressed 

For example, if "c", "g" and "p" are pressed simultaneously KEYDOWN(0) will return 3, KEYDOWN(1) will return 99, KEYDOWN(2) will return 103, etc. 
The keys do not need to be pressed simultaneously and will report in the order pressed. 
Taking a finger off a key will promote the next key pressed to #1. 
The first key ('n' = 1) is entered in the keyboard buffer (accessible using INKEY$) while keys 2 to 6 can only be accessed via this function. 
Using this function will clear the console input buffer. 

KEYDOWN(7) will give any modifier keys that are pressed. These keys do not add to the count in keydown(0)

The return value is a bitmask as follows: lalt ? 1, lctrl ? 2, lgui ? 4, lshift ? 8, ralt ? 16, rctrl ? 32, rgui ? 64, rshift ? 128

KEYDOWN(8) will give the current status of the lock keys. These keys do not add to the count in keydown(0)

The return value is a bitmask as follows: caps_lock ? 1, num_lock ? 2, scroll_lock ? 4 
Note that some keyboards will limit the number of active keys that they can report on.

Appendix H - Special Keyboard Keys
Special Keyboard Keys
MMBasic generates a single unique character for the function keys and other special keys on the keyboard.
These are shown in this table as hexadecimal and decimal numbers:
Keyboard    Key Code    Key Code    
Key         (Hex)       (Decimal)

DEL         7F          127
Up Arrow    80          128
Down Arrow  81          129
Left Arrow  82          130
Right Arrow 83          131
Insert      84          132
Home        86          134
End         87          135
Page Up     88          136
Page Down   89          137
Alt         8B          139
F1          91          145
F2          92          146
F3          93          147
F4          94          148
F5          95          149
F6          96          150
F7          97          151
F8          98          152
F9          99          153
F10         9A          154
F11         9B          155
F12         9C          156
PrtScr/SysRq        
            9D          157
PAUSE/BREAK
            9E          158
SHIFT_TAB   9F          159
SHIFT_DEL   A0          160
SHIFT_DOWN_ARROW
            A1          161
SHIFT_RIGHT_ARROW
            A3          163
            
For PS2 and USB keyboards, if the shift key is simultaneously pressed with the function keys F1 to F12 then 40 (hex) is added to the code (this is the equivalent of setting bit 6). 
For example Shift-F10 will generate DA(hex). 
The shift modifier works with the function keys F1 to F12; it is ignored for the other keys except TAB,DEL, DOWN_ARROW, and RIGHT_ARROW as identified above.
MMBasic will translate most VT100 escape codes generated by terminal emulators such as Tera Term and Putty to these codes (excluding the shift and control modifiers). 
This means that a terminal emulator operating over a USB or a serial port opened as console will generate the same key codes as a directly attached keyboard
